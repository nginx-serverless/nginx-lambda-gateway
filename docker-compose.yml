version: '3'
services:
  nginx_lambda_gateway:
    hostname: nginx_lambda_gateway
    container_name: nginx_lambda_gateway
    image: nginx_lambda_gateway
    build:
      context: ./
      # Enable this when using NGINX OSS
      dockerfile: ./docker/Dockerfile.oss
      
      # Enable this when using NGINX Plus
      # dockerfile: ./docker/Dockerfile.plus
    volumes:
      - ./common/etc/nginx/gateway/:/etc/nginx/gateway/
      - ./core:/etc/nginx/aws
    ports:
      - "8000:8000"
    env_file:
      - ./settings.test
